(this["webpackJsonpreact-parkhaus"]=this["webpackJsonpreact-parkhaus"]||[]).push([[0],{163:function(e,a,t){"use strict";t.r(a);var n=t(0),i=t.n(n),c=t(14),r=t.n(c),s=t(42),d=t(105),o=t(214),l=t(46),u=t(211),m=t(215),h=t(216),j=t(115),p=t(6),b=t(78),g=t.n(b),O=t(209),f=t(210),x=t(166),k=t(45),w=t(79),v=t(106),y=t.n(v),N=t(107),T=t.n(N),C=y()(T.a),S=t(52),A=t.n(S),D=t(9);A.a.locale("de");var I=Object(d.a)((function(e){return{parkhausContainer:{width:"100%"},dividerContainer:{marginTop:e.spacing(2),marginBottom:e.spacing(2),width:"100%"},tableContainer:{height:"650px",width:"100%"}}})),P=[["Summe","Summe","\u20ac"],["\xd8 Ticketpreis","Durchschnitt","\u20ac"],["Gedruckte Tickets","habenVerlassen"],["Aktuelle Auslastung","Auslastung"]],M=[["Tickets","Diagramm"],["Fahrzeugtypen","FahrzeugtypenDiagramm"],["Auslastung","AuslastungDiagramm"],["Kundentypen","KundentypenDiagramm"],["\xd8 Parkdauer Abonnenten","AboParkdauerDiagramm"]],_="DD.MM.YY HH:mm:ss",B=function(){var e=I(),a=i.a.useState(!1),t=Object(p.a)(a,2),n=t[0],c=t[1],r=i.a.useState(),s=Object(p.a)(r,2),d=s[0],o=s[1],l=i.a.useState(!1),u=Object(p.a)(l,2),m=u[0],h=u[1],j=i.a.useState("Klicke einen Button an"),b=Object(p.a)(j,2),v=b[0],y=b[1],N=i.a.useState([]),T=Object(p.a)(N,2),S=T[0],B=T[1],H=function(e){var a,t=e.split(",");"leave"===t[0]&&(a=t[5],g.a.get("./api/?cmd=ticket&id=".concat(a)).then((function(e){var a,t=(a=window.rows?window.rows:[]).concat({id:a.length+1,nr:e.data.nr,arrival:A()(e.data.arrival).format(_),departure:A()(e.data.departure).format(_),duration:A.a.utc(A.a.duration(e.data.duration).asMilliseconds()).format("HH:mm:ss"),licensePlate:e.data.licensePlate,vehicleType:e.data.vehicleType,customerType:e.data.customerType,price:"".concat(e.data.price," \u20ac"),ticketId:e.data.ticketId});window.rows=t,B(t)})))};i.a.useEffect((function(){window.parkhausPost=H}),[]);var K=function(e,a,t,n){g.a.get("./api/?cmd=".concat(a)).then((function(a){n?(c(!1),o(a.data)):(h(!1),y(t?"".concat(e,": ").concat(a.data," ").concat(t):"".concat(e,": ").concat(a.data)))})).catch((function(){n?(c(!0),o("".concat(e,": Fehler!"))):(h(!0),y("".concat(e,": Fehler!")))}))};return Object(D.jsxs)(O.a,{container:!0,direction:"column",justify:"center",alignItems:"center",children:[Object(D.jsx)(O.a,{className:e.parkhausContainer,item:!0,dangerouslySetInnerHTML:{__html:'<ccm-parkhaus-10-2-3 key=\'{"name":"CarHome","server_url":"./api/","client_categories":["Standard","Abo-1","Abo-2"],"vehicle_types":["Limousine", "Kombi", "SUV"],"delay": 100,"hide_table": true,"css": ["ccm.load","./css/parkhaus.css"],"images":{"car":"./img/car.png","parking_garage":"./img/parkhaus.png","empty":"./img/space.png"}}\'></ccm-parkhaus-10-2-3>'}}),Object(D.jsx)(O.a,{className:e.dividerContainer,item:!0,children:Object(D.jsx)(f.a,{variant:"fullWidth"})}),Object(D.jsx)(O.a,{item:!0,children:Object(D.jsxs)(O.a,{container:!0,direction:"column",justify:"center",alignItems:"center",spacing:3,children:[Object(D.jsx)(O.a,{item:!0,children:Object(D.jsx)(x.a,{color:m?"error":"inherit",variant:"h6",children:v})}),Object(D.jsx)(O.a,{item:!0,children:Object(D.jsx)(O.a,{container:!0,direction:"row",justify:"center",alignItems:"center",spacing:3,children:P.map((function(e,a){return Object(D.jsx)(O.a,{item:!0,children:Object(D.jsx)(k.a,{color:"primary",variant:"contained",onClick:function(){return K(e[0],e[1],e[2],!1)},children:e[0]})},"cmdButton-".concat(a))}))})})]})}),Object(D.jsx)(O.a,{className:e.dividerContainer,item:!0,children:Object(D.jsx)(f.a,{variant:"fullWidth"})}),Object(D.jsx)(O.a,{item:!0,children:Object(D.jsxs)(O.a,{container:!0,direction:"column",justify:"center",alignItems:"center",spacing:3,children:[Object(D.jsxs)(O.a,{item:!0,children:[n&&Object(D.jsx)(x.a,{color:"error",variant:"h6",children:d}),!n&&d&&Object(D.jsx)(C,{data:d.data})]}),Object(D.jsx)(O.a,{item:!0,children:Object(D.jsx)(O.a,{container:!0,direction:"row",justify:"center",alignItems:"center",spacing:3,children:M.map((function(e,a){return Object(D.jsx)(O.a,{item:!0,children:Object(D.jsx)(k.a,{color:"primary",variant:"contained",onClick:function(){return K(e[0],e[1],null,!0)},children:e[0]})},"diagramButton-".concat(a))}))})})]})}),Object(D.jsx)(O.a,{className:e.dividerContainer,item:!0,children:Object(D.jsx)(f.a,{variant:"fullWidth"})}),Object(D.jsx)(O.a,{className:e.tableContainer,item:!0,children:Object(D.jsx)(w.a,{disableColumnMenu:!0,disableSelectionOnClick:!0,pageSize:10,rowsPerPageOptions:[10,25,50,100],localeText:w.b.props.MuiDataGrid.localeText,rows:S,columns:[{field:"nr",headerName:"Nr",width:75},{field:"arrival",headerName:"Ankunft",width:200},{field:"departure",headerName:"Abfahrt",width:200},{field:"duration",headerName:"Dauer",width:100},{field:"licensePlate",headerName:"Kennzeichen",width:140},{field:"vehicleType",headerName:"Fahrzeugtyp",width:140},{field:"customerType",headerName:"Kundentyp",width:130},{field:"price",headerName:"Preis",width:90},{field:"ticketId",headerName:"Ticket ID",width:300}]})})]})},H=Object(d.a)((function(e){return{container:Object(s.a)({},e.breakpoints.up("md"),{maxWidth:"90%"}),homePaper:{margin:e.spacing(3),paddingTop:e.spacing(4),paddingBottom:e.spacing(4),minWidth:"1000px"}}})),K=function(){var e=Object(o.a)("(prefers-color-scheme: dark)"),a=i.a.useMemo((function(){return Object(l.a)({palette:{type:e?"dark":"light"}})}),[e]),t=H();return Object(D.jsxs)(u.a,{theme:a,children:[Object(D.jsx)(m.a,{}),Object(D.jsx)(h.a,{className:t.container,children:Object(D.jsx)(j.a,{className:t.homePaper,elevation:3,children:Object(D.jsx)(h.a,{className:t.container,children:Object(D.jsx)(B,{})})})})]})};r.a.render(Object(D.jsx)(K,{}),document.getElementById("root"))}},[[163,1,2]]]);
//# sourceMappingURL=main.0b9ea14e.chunk.js.map