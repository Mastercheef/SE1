(this["webpackJsonpreact-parkhaus"]=this["webpackJsonpreact-parkhaus"]||[]).push([[0],{166:function(e,a,t){"use strict";t.r(a);var n=t(0),i=t.n(n),c=t(14),r=t.n(c),s=t(45),o=t(110),d=t(223),l=t(49),u=t(217),m=t(224),h=t(225),j=t(121),p=t(6),b=t(52),g=t.n(b),f=t(215),O=t(216),x=t(169),y=t(48),k=t(82),v=t(111),w=t.n(v),T=t(112),N=t.n(T),S=w()(N.a),C=t(31),D=t.n(C),I=t(8);D.a.locale("de");var P=Object(o.a)((function(e){return{parkhausContainer:{width:"100%"},dividerContainer:{marginTop:e.spacing(2),marginBottom:e.spacing(2),width:"100%"},tableContainer:{height:"650px",width:"100%"}}})),A=[["Summe","Summe","\u20ac"],["\xd8 Ticketpreis","Durchschnitt","\u20ac"],["Gedruckte Tickets","habenVerlassen"],["Aktuelle Auslastung","Auslastung"]],_=[["Tickets","Diagramm"],["Fahrzeugtypen","FahrzeugtypenDiagramm"],["Auslastung","AuslastungDiagramm"],["Kundentypen","KundentypenDiagramm"],["\xd8 Parkdauer Abonnenten","AboParkdauerDiagramm"]],M="DD.MM.YY HH:mm:ss",z="HH:mm:ss",F=function(){var e=P(),a=i.a.useState(!1),t=Object(p.a)(a,2),n=t[0],c=t[1],r=i.a.useState(),s=Object(p.a)(r,2),o=s[0],d=s[1],l=i.a.useState(!1),u=Object(p.a)(l,2),m=u[0],h=u[1],j=i.a.useState("Klicke einen Button an"),b=Object(p.a)(j,2),v=b[0],w=b[1],T=i.a.useState([]),N=Object(p.a)(T,2),C=N[0],F=N[1],B=i.a.useState(!0),H=Object(p.a)(B,2),K=H[0],W=H[1],E=function(e){var a,t=e.split(",");"leave"===t[0]&&(a=t[5],g.a.get("./api/?cmd=ticket&id=".concat(a)).then((function(e){var a,t=(a=window.rows?window.rows:[]).concat({id:a.length+1,nr:e.data.nr,arrival:D()(e.data.arrival).format(M),departure:D()(e.data.departure).format(M),duration:D.a.utc(D.a.duration(e.data.duration).asMilliseconds()).format(z),licensePlate:e.data.licensePlate,vehicleType:e.data.vehicleType,customerType:e.data.customerType,price:"".concat(e.data.price.toFixed(2)," \u20ac"),ticketId:e.data.ticketId});window.rows=t,F(t)})))};i.a.useEffect((function(){window.parkhausPost=E,setTimeout((function(){g.a.get("./api/?cmd=allTickets").then((function(e){var a=[];e.data.forEach((function(e,t){a.push({id:t+1,nr:e.nr,arrival:D()(e.arrival).format(M),departure:D()(e.departure).format(M),duration:D.a.utc(D.a.duration(e.duration).asMilliseconds()).format(z),licensePlate:e.licensePlate,vehicleType:e.vehicleType,customerType:e.customerType,price:"".concat(e.price," \u20ac"),ticketId:e.ticketId})})),window.rows=a,F(a),W(!1)}))}),1e3)}),[]);var G=function(e,a,t,n){g.a.get("./api/?cmd=".concat(a)).then((function(a){n?(c(!1),d(a.data)):(h(!1),w(t?"".concat(e,": ").concat(a.data," ").concat(t):"".concat(e,": ").concat(a.data)))})).catch((function(){n?(c(!0),d("".concat(e,": Fehler!"))):(h(!0),w("".concat(e,": Fehler!")))}))};return Object(I.jsxs)(f.a,{container:!0,direction:"column",justify:"center",alignItems:"center",children:[Object(I.jsx)(f.a,{className:e.parkhausContainer,item:!0,dangerouslySetInnerHTML:{__html:'<ccm-parkhaus-10-5-0 key=\'{"name":"CarHome","server_url":"./api/","client_categories":["Standard","Abonnent", "Senior", "Student", "Familie"],"vehicle_types":["Limousine", "Kombi", "SUV"],"delay": 200,"hide_table": true,"price_factor": 0.15,"simulation_speed": 2700,"css": ["ccm.load","./css/parkhaus.css"],"images":{"car":"./img/car.png","parking_garage":"./img/parkhaus.png","empty":"./img/space.png"}}\'></ccm-parkhaus-10-5-0>'}}),Object(I.jsx)(f.a,{className:e.dividerContainer,item:!0,children:Object(I.jsx)(O.a,{variant:"fullWidth"})}),Object(I.jsx)(f.a,{item:!0,children:Object(I.jsxs)(f.a,{container:!0,direction:"column",justify:"center",alignItems:"center",spacing:3,children:[Object(I.jsx)(f.a,{item:!0,children:Object(I.jsx)(x.a,{color:m?"error":"inherit",variant:"h6",children:v})}),Object(I.jsx)(f.a,{item:!0,children:Object(I.jsx)(f.a,{container:!0,direction:"row",justify:"center",alignItems:"center",spacing:3,children:A.map((function(e,a){return Object(I.jsx)(f.a,{item:!0,children:Object(I.jsx)(y.a,{color:"primary",variant:"contained",onClick:function(){return G(e[0],e[1],e[2],!1)},children:e[0]})},"cmdButton-".concat(a))}))})})]})}),Object(I.jsx)(f.a,{className:e.dividerContainer,item:!0,children:Object(I.jsx)(O.a,{variant:"fullWidth"})}),Object(I.jsx)(f.a,{item:!0,children:Object(I.jsxs)(f.a,{container:!0,direction:"column",justify:"center",alignItems:"center",spacing:3,children:[Object(I.jsxs)(f.a,{item:!0,children:[n&&Object(I.jsx)(x.a,{color:"error",variant:"h6",children:o}),!n&&o&&Object(I.jsx)(S,{data:o.data,layout:o.layout})]}),Object(I.jsx)(f.a,{item:!0,children:Object(I.jsx)(f.a,{container:!0,direction:"row",justify:"center",alignItems:"center",spacing:3,children:_.map((function(e,a){return Object(I.jsx)(f.a,{item:!0,children:Object(I.jsx)(y.a,{color:"primary",variant:"contained",onClick:function(){return G(e[0],e[1],null,!0)},children:e[0]})},"diagramButton-".concat(a))}))})})]})}),Object(I.jsx)(f.a,{className:e.dividerContainer,item:!0,children:Object(I.jsx)(O.a,{variant:"fullWidth"})}),Object(I.jsx)(f.a,{className:e.tableContainer,item:!0,children:Object(I.jsx)(k.a,{disableColumnMenu:!0,disableSelectionOnClick:!0,loading:K,pageSize:10,rowsPerPageOptions:[10,25,50,100],localeText:k.b.props.MuiDataGrid.localeText,rows:C,columns:[{field:"nr",headerName:"Nr",width:75},{field:"arrival",headerName:"Ankunft",width:200},{field:"departure",headerName:"Abfahrt",width:200},{field:"duration",headerName:"Dauer",width:100},{field:"licensePlate",headerName:"Kennzeichen",width:140},{field:"vehicleType",headerName:"Fahrzeugtyp",width:140},{field:"customerType",headerName:"Kundentyp",width:130},{field:"price",headerName:"Preis",width:90},{field:"ticketId",headerName:"Ticket ID",width:300}]})})]})},B=t(20),H=t(220),K=t(221),W=t(222),E=Object(o.a)((function(e){return{fab:{position:"fixed",bottom:e.spacing(2),right:e.spacing(2),margin:e.spacing(1),width:"120px"}}})),G=function(){var e=E(),a=Object(B.a)(),t={enter:a.transitions.duration.enteringScreen,exit:a.transitions.duration.leavingScreen},n=i.a.useState(!0),c=Object(p.a)(n,2),r=c[0],s=c[1],o=i.a.useState(!1),d=Object(p.a)(o,2),l=d[0],u=d[1],m=function(){r?(s(!1),u(!0),setTimeout((function(){u(!1),s(!0)}),5e3)):g.a.get("./api/?cmd=reset").then((function(){window.location.reload()}))};return Object(I.jsxs)("div",{children:[Object(I.jsx)(H.a,{in:r,timeout:t,style:{transitionDelay:"".concat(r?t.exit:0,"ms")},children:Object(I.jsxs)(K.a,{className:e.fab,color:"secondary",size:"large",variant:"extended",onClick:m,children:[Object(I.jsx)(W.a,{})," Reset"]})}),Object(I.jsx)(H.a,{in:l,timeout:t,style:{transitionDelay:"".concat(l?t.exit:0,"ms")},children:Object(I.jsx)(K.a,{className:e.fab,color:"secondary",size:"large",variant:"extended",onClick:m,children:"Sicher?"})})]})},J=t(74),L=Object(o.a)((function(e){return{container:Object(s.a)({},e.breakpoints.up("md"),{maxWidth:"90%"}),homePaper:{margin:e.spacing(3),paddingTop:e.spacing(4),paddingBottom:e.spacing(4),minWidth:"1000px"}}})),V=function(){var e=Object(d.a)("(prefers-color-scheme: dark)"),a=i.a.useMemo((function(){return Object(l.a)({palette:{type:e?"dark":"light",secondary:{main:J.a[800]}}})}),[e]),t=L();return Object(I.jsxs)(u.a,{theme:a,children:[Object(I.jsx)(m.a,{}),Object(I.jsx)(h.a,{className:t.container,children:Object(I.jsx)(j.a,{className:t.homePaper,elevation:3,children:Object(I.jsx)(h.a,{className:t.container,children:Object(I.jsx)(F,{})})})}),Object(I.jsx)(G,{})]})};r.a.render(Object(I.jsx)(V,{}),document.getElementById("root"))}},[[166,1,2]]]);
//# sourceMappingURL=main.f18fa00f.chunk.js.map