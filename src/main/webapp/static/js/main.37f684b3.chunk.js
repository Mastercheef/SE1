(this["webpackJsonpreact-parkhaus"]=this["webpackJsonpreact-parkhaus"]||[]).push([[0],{167:function(e,t,a){"use strict";a.r(t);var n=a(0),i=a.n(n),c=a(14),r=a.n(c),s=a(35),l=a(111),o=a(224),d=a(50),j=a(217),u=a(225),h=a(226),m=a(215),b=a(123),O=a(6),p=a(31),x=a.n(p),g=a(216),f=a(121),v=a(49),y=a(83),k=a(112),w=a.n(k),S=a(113),N=a.n(S),T=w()(N.a),C=a(33),I=a.n(C),F=a(4);I.a.locale("de");var W=Object(l.a)((function(e){return{parkhausContainer:{width:"100%"},dividerContainer:{marginTop:e.spacing(2),marginBottom:e.spacing(2),width:"100%"},tableContainer:{height:"650px",width:"100%"}}})),z=[["Summe","sum","\u20ac"],["\xd8 Ticketpreis","averagePrice","\u20ac"],["Gedruckte Tickets","ticketCount"],["Aktuelle Auslastung","utilization"]],A=[["\xd8 Dauer & Ticketpreis","averageDiagram"],["Fahrzeugtypen","carTypeDiagram"],["Auslastung","utilizationDiagram"],["Kundentypen","customerDiagram"],["\xd8 Parkdauer Abonnenten","subDurationDiagram"]],D="DD.MM.YY HH:mm:ss",P="HH:mm:ss",K=function(){var e=W(),t=i.a.useState(!1),a=Object(O.a)(t,2),n=a[0],c=a[1],r=i.a.useState(),s=Object(O.a)(r,2),l=s[0],o=s[1],d=i.a.useState(!1),j=Object(O.a)(d,2),u=j[0],h=j[1],b=i.a.useState("Klicke einen Button an"),p=Object(O.a)(b,2),k=p[0],w=p[1],S=i.a.useState([]),N=Object(O.a)(S,2),C=N[0],K=N[1],H=i.a.useState(!0),M=Object(O.a)(H,2),_=M[0],B=M[1],R=function(e){var t,a=e.split(",");"leave"===a[0]&&(t=a[5],x.a.get("./api/?cmd=ticket&id=".concat(t)).then((function(e){var t,a=(t=window.rows?window.rows:[]).concat({id:t.length+1,nr:e.data.nr,arrival:I()(e.data.arrival).format(D),departure:I()(e.data.departure).format(D),duration:I.a.utc(I.a.duration(e.data.duration).asMilliseconds()).format(P),licensePlate:e.data.licensePlate,vehicleType:e.data.vehicleType,customerType:e.data.customerType,price:"".concat(e.data.price.toFixed(2)," \u20ac"),ticketId:e.data.ticketId});window.rows=a,K(a)})))};i.a.useEffect((function(){window.parkhausPost=R,setTimeout((function(){x.a.get("./api/?cmd=allTickets").then((function(e){var t=[];e.data.forEach((function(e,a){t.push({id:a+1,nr:e.nr,arrival:I()(e.arrival).format(D),departure:I()(e.departure).format(D),duration:I.a.utc(I.a.duration(e.duration).asMilliseconds()).format(P),licensePlate:e.licensePlate,vehicleType:e.vehicleType,customerType:e.customerType,price:"".concat(e.price," \u20ac"),ticketId:e.ticketId})})),window.rows=t,K(t),B(!1)}))}),1e3)}),[]);var E=function(e,t,a,n){x.a.get("./api/?cmd=".concat(t)).then((function(t){n?(c(!1),o(t.data)):(h(!1),w(a?"".concat(e,": ").concat(t.data.toFixed(2)," ").concat(a):"".concat(e,": ").concat(t.data)))})).catch((function(){n?(c(!0),o("".concat(e,": Fehler!"))):(h(!0),w("".concat(e,": Fehler!")))}))};return Object(F.jsxs)(m.a,{container:!0,direction:"column",justify:"center",alignItems:"center",children:[Object(F.jsx)(m.a,{className:e.parkhausContainer,item:!0,dangerouslySetInnerHTML:{__html:'<ccm-parkhaus-10-5-0 key=\'{"name":"CarHome","server_url":"./api/","client_categories":["Standard","Abonnent", "Senior", "Student", "Familie"],"vehicle_types":["Limousine", "Kombi", "SUV"],"delay": 200,"hide_table": true,"price_factor": 0.15,"simulation_speed": 2700,"css": ["ccm.load","./css/parkhaus.css"],"images":{"car":"./img/car.png","parking_garage":"./img/parkhaus.png","empty":"./img/space.png"}}\'></ccm-parkhaus-10-5-0>'}}),Object(F.jsx)(m.a,{className:e.dividerContainer,item:!0,children:Object(F.jsx)(g.a,{variant:"fullWidth"})}),Object(F.jsx)(m.a,{item:!0,children:Object(F.jsxs)(m.a,{container:!0,direction:"column",justify:"center",alignItems:"center",spacing:3,children:[Object(F.jsx)(m.a,{item:!0,children:Object(F.jsx)(f.a,{color:u?"error":"inherit",variant:"h6",children:k})}),Object(F.jsx)(m.a,{item:!0,children:Object(F.jsx)(m.a,{container:!0,direction:"row",justify:"center",alignItems:"center",spacing:3,children:z.map((function(e,t){return Object(F.jsx)(m.a,{item:!0,children:Object(F.jsx)(v.a,{color:"primary",variant:"contained",onClick:function(){return E(e[0],e[1],e[2],!1)},children:e[0]})},"cmdButton-".concat(t))}))})})]})}),Object(F.jsx)(m.a,{className:e.dividerContainer,item:!0,children:Object(F.jsx)(g.a,{variant:"fullWidth"})}),Object(F.jsx)(m.a,{item:!0,children:Object(F.jsxs)(m.a,{container:!0,direction:"column",justify:"center",alignItems:"center",spacing:3,children:[Object(F.jsxs)(m.a,{item:!0,children:[n&&Object(F.jsx)(f.a,{color:"error",variant:"h6",children:l}),!n&&l&&Object(F.jsx)(T,{data:l.data,layout:l.layout})]}),Object(F.jsx)(m.a,{item:!0,children:Object(F.jsx)(m.a,{container:!0,direction:"row",justify:"center",alignItems:"center",spacing:3,children:A.map((function(e,t){return Object(F.jsx)(m.a,{item:!0,children:Object(F.jsx)(v.a,{color:"primary",variant:"contained",onClick:function(){return E(e[0],e[1],null,!0)},children:e[0]})},"diagramButton-".concat(t))}))})})]})}),Object(F.jsx)(m.a,{className:e.dividerContainer,item:!0,children:Object(F.jsx)(g.a,{variant:"fullWidth"})}),Object(F.jsx)(m.a,{className:e.tableContainer,item:!0,children:Object(F.jsx)(y.a,{disableColumnMenu:!0,disableSelectionOnClick:!0,loading:_,pageSize:10,rowsPerPageOptions:[10,25,50,100],localeText:y.b.props.MuiDataGrid.localeText,rows:C,columns:[{field:"nr",headerName:"Nr",width:75},{field:"arrival",headerName:"Ankunft",width:200},{field:"departure",headerName:"Abfahrt",width:200},{field:"duration",headerName:"Dauer",width:100},{field:"licensePlate",headerName:"Kennzeichen",width:140},{field:"vehicleType",headerName:"Fahrzeugtyp",width:140},{field:"customerType",headerName:"Kundentyp",width:130},{field:"price",headerName:"Preis",width:90},{field:"ticketId",headerName:"Ticket ID",width:300}]})})]})},H=a(20),M=a(220),_=a(221),B=a(222),R=Object(l.a)((function(e){return{fab:{position:"fixed",bottom:e.spacing(2),right:e.spacing(2),margin:e.spacing(1),width:"120px"}}})),E=function(){var e=R(),t=Object(H.a)(),a={enter:t.transitions.duration.enteringScreen,exit:t.transitions.duration.leavingScreen},n=i.a.useState(!0),c=Object(O.a)(n,2),r=c[0],s=c[1],l=i.a.useState(!1),o=Object(O.a)(l,2),d=o[0],j=o[1],u=function(){r?(s(!1),j(!0),setTimeout((function(){j(!1),s(!0)}),5e3)):x.a.get("./api/?cmd=reset").then((function(){window.location.reload()}))};return Object(F.jsxs)("div",{children:[Object(F.jsx)(M.a,{in:r,timeout:a,style:{transitionDelay:"".concat(r?a.exit:0,"ms")},children:Object(F.jsxs)(_.a,{className:e.fab,color:"secondary",size:"large",variant:"extended",onClick:u,children:[Object(F.jsx)(B.a,{})," Reset"]})}),Object(F.jsx)(M.a,{in:d,timeout:a,style:{transitionDelay:"".concat(d?a.exit:0,"ms")},children:Object(F.jsx)(_.a,{className:e.fab,color:"secondary",size:"large",variant:"extended",onClick:u,children:"Sicher?"})})]})},G=a(75),J=a(62),$=a(93),L=a(227),U=a(223),V=function(){var e=i.a.useState(""),t=Object(O.a)(e,2),a=t[0],n=t[1],c=i.a.useState(""),r=Object(O.a)(c,2),s=r[0],l=r[1],o=i.a.useState(""),d=Object(O.a)(o,2),j=d[0],u=d[1],h=i.a.useState("?"),b=Object(O.a)(h,2),p=b[0],g=b[1],y=i.a.useState("?"),k=Object(O.a)(y,2),w=k[0],S=k[1],N=i.a.useState("?"),T=Object(O.a)(N,2),C=T[0],I=T[1];return Object(F.jsxs)(m.a,{container:!0,direction:"row",justify:"center",alignItems:"center",spacing:2,children:[Object(F.jsx)(m.a,{item:!0,xs:12,children:Object(F.jsx)(f.a,{variant:"h3",children:"ROI-Rechner"})}),Object(F.jsx)(m.a,{item:!0,sm:6,children:Object(F.jsxs)(J.a,{fullWidth:!0,variant:"outlined",children:[Object(F.jsx)($.a,{htmlFor:"investment-input",children:"Investment"}),Object(F.jsx)(L.a,{id:"investment-input",label:"Investment",endAdornment:Object(F.jsx)(U.a,{position:"end",children:"\u20ac"}),labelWidth:70,fullWidth:!0,onChange:function(e){(""===e.target.value||/^[0-9]+\.{0,1}[0-9]{0,2}$/.test(e.target.value))&&n(e.target.value)},value:a})]})}),Object(F.jsx)(m.a,{item:!0,sm:6,children:Object(F.jsxs)(f.a,{align:"right",variant:"h6",children:["ROI / Jahr: ",p,"%"]})}),Object(F.jsx)(m.a,{item:!0,sm:6,children:Object(F.jsxs)(J.a,{fullWidth:!0,variant:"outlined",children:[Object(F.jsx)($.a,{htmlFor:"share-input",children:"Gewinnbeteiligung"}),Object(F.jsx)(L.a,{id:"share-input",label:"Gewinnbeteiligung",endAdornment:Object(F.jsx)(U.a,{position:"end",children:"%"}),labelWidth:70,fullWidth:!0,onChange:function(e){(""===e.target.value||/^[0-9]+\.{0,1}[0-9]{0,2}$/.test(e.target.value)&&parseFloat(e.target.value)<=100)&&l(e.target.value)},value:s})]})}),Object(F.jsx)(m.a,{item:!0,sm:6,children:Object(F.jsxs)(f.a,{align:"right",variant:"h6",children:["Amortisation (in Monaten): ",w]})}),Object(F.jsx)(m.a,{item:!0,sm:6,children:Object(F.jsxs)(J.a,{fullWidth:!0,variant:"outlined",children:[Object(F.jsx)($.a,{htmlFor:"cost-input",children:"Kosten pro Fahrzeug"}),Object(F.jsx)(L.a,{id:"cost-input",label:"Kosten pro Fahrzeug",endAdornment:Object(F.jsx)(U.a,{position:"end",children:"\u20ac"}),labelWidth:70,fullWidth:!0,onChange:function(e){(""===e.target.value||/^[0-9]+\.{0,1}[0-9]{0,2}$/.test(e.target.value))&&u(e.target.value)},value:j})]})}),Object(F.jsx)(m.a,{item:!0,sm:6,children:Object(F.jsxs)(f.a,{align:"right",variant:"h6",children:["Amortisation (in Jahren): ",C]})}),Object(F.jsx)(m.a,{item:!0,sm:12,children:Object(F.jsx)(v.a,{color:"primary",size:"large",variant:"contained",onClick:function(){""!==a&&""!==s&&""!==j&&x.a.post("./api/","roi,".concat(a,",").concat(s/100,",").concat(j)).then((function(e){g(e.data.roi),S(e.data.months),I(e.data.years)}))},children:"Errechnen"})})]})},Y=Object(l.a)((function(e){return{red:{color:e.palette.error.main},green:{color:e.palette.success.main}}})),q=function(){var e=Y(),t=i.a.useState(""),a=Object(O.a)(t,2),n=a[0],c=a[1],r=i.a.useState("?"),s=Object(O.a)(r,2),l=s[0],o=s[1],d=i.a.useState("?"),j=Object(O.a)(d,2),u=j[0],h=j[1],b=i.a.useState("?"),p=Object(O.a)(b,2),g=p[0],y=p[1],k=i.a.useState("?"),w=Object(O.a)(k,2),S=w[0],N=w[1],T=i.a.useState("?"),C=Object(O.a)(T,2),I=C[0],W=C[1];return Object(F.jsxs)(m.a,{container:!0,direction:"row",justify:"center",alignItems:"center",spacing:2,children:[Object(F.jsx)(m.a,{item:!0,xs:12,children:Object(F.jsx)(f.a,{variant:"h3",children:"GuV-Rechnung"})}),Object(F.jsx)(m.a,{item:!0,sm:6,children:Object(F.jsxs)(J.a,{fullWidth:!0,variant:"outlined",children:[Object(F.jsx)($.a,{htmlFor:"cost-input",children:"Kosten pro Fahrzeug"}),Object(F.jsx)(L.a,{id:"cost-input",label:"Kosten pro Fahrzeug",endAdornment:Object(F.jsx)(U.a,{position:"end",children:"\u20ac"}),labelWidth:70,fullWidth:!0,onChange:function(e){(""===e.target.value||/^[0-9]+\.{0,1}[0-9]{0,2}$/.test(e.target.value))&&c(e.target.value)},value:n})]})}),Object(F.jsx)(m.a,{item:!0,sm:6}),Object(F.jsx)(m.a,{item:!0,sm:12,children:Object(F.jsx)(v.a,{color:"primary",size:"large",variant:"contained",onClick:function(){""!==n&&x.a.post("./api/","incomestatement,".concat(n)).then((function(e){o(e.data.turnover),h(e.data.taxes),y(e.data.turnoverAfterTax),N(e.data.cost),W(e.data.profit)}))},children:"Errechnen"})}),Object(F.jsx)(m.a,{item:!0,sm:12,children:Object(F.jsxs)(f.a,{variant:"h6",children:["Umsatz: ",l," \u20ac"]})}),Object(F.jsx)(m.a,{item:!0,sm:12,children:Object(F.jsxs)(f.a,{className:e.red,variant:"h6",children:["Steuern: ",u," \u20ac"]})}),Object(F.jsx)(m.a,{item:!0,sm:12,children:Object(F.jsxs)(f.a,{variant:"h6",children:["Rest: ",g," \u20ac"]})}),Object(F.jsx)(m.a,{item:!0,sm:12,children:Object(F.jsxs)(f.a,{className:e.red,variant:"h6",children:["Kosten: ",S," \u20ac"]})}),Object(F.jsx)(m.a,{item:!0,sm:12,children:Object(F.jsxs)(f.a,{className:e.green,variant:"h6",children:["Profit: ",I," \u20ac"]})})]})},Q=Object(l.a)((function(e){var t;return{container:(t={},Object(s.a)(t,e.breakpoints.up("lg"),{maxWidth:"1450px"}),Object(s.a)(t,"marginTop",e.spacing(5)),Object(s.a)(t,"marginBottom",e.spacing(5)),t),paper:{padding:e.spacing(2)},sameHeight:{height:"470px",padding:e.spacing(2)}}})),X=function(){var e=Object(o.a)("(prefers-color-scheme: dark)"),t=i.a.useMemo((function(){return Object(d.a)({palette:{type:e?"dark":"light",secondary:{main:G.a[800]}}})}),[e]),a=Q();return Object(F.jsxs)(j.a,{theme:t,children:[Object(F.jsx)(u.a,{}),Object(F.jsxs)(h.a,{className:a.container,children:[Object(F.jsxs)(m.a,{container:!0,direction:"row",justifyContent:"center",alignItems:"center",spacing:3,children:[Object(F.jsx)(m.a,{item:!0,sm:12,children:Object(F.jsx)(b.a,{className:a.paper,children:Object(F.jsx)(K,{})})}),Object(F.jsx)(m.a,{item:!0,sm:12,md:6,children:Object(F.jsx)(b.a,{className:a.sameHeight,children:Object(F.jsx)(V,{})})}),Object(F.jsx)(m.a,{item:!0,sm:12,md:6,children:Object(F.jsx)(b.a,{className:a.sameHeight,children:Object(F.jsx)(q,{})})})]}),Object(F.jsx)(E,{})]})]})};r.a.render(Object(F.jsx)(X,{}),document.getElementById("root"))}},[[167,1,2]]]);
//# sourceMappingURL=main.37f684b3.chunk.js.map